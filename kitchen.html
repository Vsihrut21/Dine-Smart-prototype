<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grill Kitchen - Kitchen View</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style id="Color-Control-Panel">
    :root {
      /* --- Primary Theme Color (e.g., Orange) --- */
      --color-primary-50: #fff7ed;
      --color-primary-100: #ddd5ff;
      --color-primary-200: #aab8fe;
      --color-primary-500: #3f1dff; /* Main button color */
      --color-primary-600: #1792fd; /* Main button hover */
      --color-primary-700: #5a11b3; /* Main text color */
      --color-primary-800: #110054; /* Darker text */

      /* --- Secondary Theme Color (e.g., Yellow/Gold) --- */
      --color-secondary-100: #c3e8fe;
      --color-secondary-300: #ae47fd;
      --color-secondary-400: #15faeb;
      --color-secondary-500: #08ccea; /* Added for OTP button */

      /* --- General App Colors --- */
      --color-background-start: #fffbeb; /* Body gradient from */
      --color-background-end: #fef3c7;   /* Body gradient to */
      --color-text-header: #ffffff;      /* Header text (white) */
      --color-success-100: #dcfce7;
      --color-success-500: #22c55e;
      --color-success-800: #15803d;
      --color-danger-100: #fee2e2;
      --color-danger-600: #ef4444;
      --color-danger-800: #b91c1c;
    }
  </style>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-image: linear-gradient(to bottom right, var(--color-background-start), var(--color-background-end));
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    .animate-pulse { animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
  </style>
</head>
<body class="bg-gradient-to-br from-[var(--color-background-start)] to-[var(--color-background-end)]">

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;
    // No Firebase `db` needed

    // --- Inline SVG Icons (Only those needed for Kitchen) ---
    const Icon = ({ className, children }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
        {children}
      </svg>
    );
    const ChefHat = ({ className }) => ( <Icon className={className}> <path d="M6 13.8V21a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-7.2" /> <path d="M6 13.8A6.4 6.4 0 0 1 12 11a6.4 6.4 0 0 1 6 2.8" /> <path d="M12 11V3a1.9 1.9 0 0 0-2-2 1.9 1.9 0 0 0-2 2v2a1.9 1.9 0 0 0 1.9 2 1.9 1.9 0 0 1 2 1.9z" /> <path d="M12 3a1.9 1.9 0 0 1 2-2 1.9 1.9 0 0 1 2 2v2a1.9 1.9 0 0 1-1.9 2 1.9 1.9 0 0 0-2 1.9z" /> </Icon> );
    const PackageCheck = ({ className }) => ( <Icon className={className}> <path d="M16 16.5l-3.5 3.5-1.5-1.5" /><path d="M21 10.5v8.5a2 2 0 0 1-2 2h-14a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2h11" /> <polyline points="7 2 7 6 15 6 15 2 7 2" /> </Icon> );
    const UtensilsCrossed = ({ className }) => ( <Icon className={className}> <path d="m16 2-2.3 2.3a3 3 0 0 0 0 4.2l6.1 6.1a3 3 0 0 0 4.2 0L22 16" /> <path d="m2 16 6.1 6.1a3 3 0 0 0 4.2 0L14.6 19.8" /> <path d="m14 14-2.3 2.3a3 3 0 0 1 0 4.2l6.1 6.1a3 3 0 0 1 4.2 0L22 22" /> <path d="m2 2 6.1 6.1a3 3 0 0 1 4.2 0L14.6 5.8" /> </Icon> );

    // --- ðŸ”´ MOCK DATA FOR KITCHEN ðŸ”´ ---
    // These are fake orders just so you can see the screen
    const MOCK_ORDERS = [
      {
        id: 'order-123',
        table: 'T5',
        status: 'Pending',
        items: [
          { id: 'm1', name: 'Fiery Margherita Pizza', quantity: 1 },
          { id: 'd2', name: 'Fresh Lemonade', quantity: 2 },
        ]
      },
      {
        id: 'order-124',
        table: 'T12',
        status: 'Preparing',
        items: [
          { id: 'm2', name: 'Smoked BBQ Burger', quantity: 1 },
        ]
      },
      {
        id: 'order-125',
        table: 'Walk-In',
        status: 'Pending',
        items: [
          { id: 'a1', name: 'Spicy Spring Rolls', quantity: 1 },
          { id: 'm3', name: 'Creamy Pasta', quantity: 1 },
        ]
      }
    ];

    // --- Helper Component: Header (Kitchen Version) ---
    const Header = () => {
      return (
        <header className="bg-gradient-to-r from-gray-800 to-gray-900 shadow-lg sticky top-0 z-50">
          <nav className="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-20">
            <div className="flex items-center text-3xl font-extrabold text-[var(--color-text-header)]">
              <ChefHat className="w-8 h-8 mr-3 text-[var(--color-secondary-400)]" />
              Kitchen View
            </div>
          </nav>
        </header>
      );
    };

    // --- Page Component: KitchenScreen ---
    const KitchenScreen = ({ orders, onUpdateStatus }) => {
      // Filter for active orders (remove "Ready" ones)
      const activeOrders = orders.filter(o => o.status !== 'Ready');

      return (
        <div className="container mx-auto p-4 sm:p-6 lg:p-8">
          <h2 className="text-4xl font-extrabold text-gray-800 mb-8 text-center bg-[var(--color-secondary-100)] py-3 rounded-xl shadow-md border-b-4 border-[var(--color-primary-500)]">
            Active Grill Orders
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {activeOrders.length === 0 && (
              <p className="text-center text-gray-600 text-xl font-medium col-span-full p-8 bg-white rounded-xl shadow-lg">No active grill orders right now!</p>
            )}
            {activeOrders.map(order => (
              <div 
                key={order.id} 
                className={`bg-white rounded-xl shadow-xl border-t-8 ${
                  order.status === 'Pending' ? 'border-[var(--color-primary-500)] animate-pulse' : 'border-[var(--color-secondary-500)]'
                } transition-all duration-300 hover:shadow-2xl`}
              >
                <div className="p-5 border-b border-[var(--color-primary-100)] bg-[var(--color-primary-50)]">
                  <div className="flex justify-between items-center mb-2">
                    <span className="text-2xl font-bold text-[var(--color-primary-800)]">Order #{order.id.slice(-3)}</span>
                    <span className="text-xl font-semibold text-gray-700">Table: <strong className="text-[var(--color-danger-600)]">{order.table}</strong></span>
                  </div>
                  <span 
                    className={`text-sm font-bold px-3 py-1 rounded-full ${
                      order.status === 'Pending' ? 'bg-[var(--color-danger-100)] text-[var(--color-danger-800)]' : 'bg-[var(--color-secondary-100)] text-[var(--color-secondary-400)]'
                    } `}
                  >
                    {order.status}
                  </span>
                </div>
                <ul className="p-5 space-y-3 divide-y divide-gray-100">
                  {order.items.map((item, index) => (
                    <li key={item.id || index} className="flex justify-between items-center text-gray-700 py-2 first:pt-0 last:pb-0">
                      <span className="font-semibold text-lg">{item.name}</span>
                      <span className="font-bold text-xl text-[var(--color-primary-700)]">x {item.quantity}</span>
                    </li>
                  ))}
                </ul>
                <div className="p-4 bg-[var(--color-primary-50)] border-t border-[var(--color-primary-200)] flex space-x-3">
                  {order.status === 'Pending' && (
                    <button
                      onClick={() => onUpdateStatus(order.id, 'Preparing')}
                      className="w-full flex-1 bg-[var(--color-secondary-500)] text-[var(--color-primary-800)] font-bold py-2 px-4 rounded-lg hover:bg-[var(--color-secondary-400)] transition-colors flex items-center justify-center space-x-2 transform hover:scale-[1.02]"
                    >
                      <UtensilsCrossed className="w-5 h-5" />
                      <span>Start Preparing</span>
                    </button>
                  )}
                  {order.status === 'Preparing' && (
                    <button
                      onClick={() => onUpdateStatus(order.id, 'Ready')}
                      className="w-full flex-1 bg-[var(--color-success-500)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--color-success-800)] transition-colors flex items-center justify-center space-x-2 transform hover:scale-[1.02]"
                    >
                      <PackageCheck className="w-5 h-5" />
                      <span>Mark as Ready</span>
                    </button>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    // --- Main App Component (Kitchen Version) ---
    function App() {
      // ðŸ”´ REVERTED: Use local mock data instead of Firebase ðŸ”´
      const [orders, setOrders] = useState(MOCK_ORDERS); 

      // This function UPDATES the local mock state
      const updateOrderStatus = (orderId, newStatus) => {
        setOrders(prevOrders =>
          prevOrders.map(o =>
            o.id === orderId ? { ...o, status: newStatus } : o
          )
        );
      };

      return (
        <div className="min-h-screen font-sans">
          <Header />
          <main className="animate-fadeIn"> 
            <KitchenScreen orders={orders} onUpdateStatus={updateOrderStatus} />
          </main>
        </div>
      );
    }
    
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>

</body>
</html>